<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="–¢–∞–π–º–µ—Ä –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≥–æ–¥—É–≤–∞–Ω–Ω—è –Ω–µ–º–æ–≤–ª—è—Ç–∏ –≥—Ä—É–¥–¥—é">

    <!-- PWA Configuration -->
    <meta name="theme-color" content="#8B5CF6">
    <link rel="manifest" href="manifest.json">

    <!-- iOS Support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="–ì–æ–¥—É–≤–∞–Ω–Ω—è">
    <link rel="apple-touch-icon" href="./icons/apple-touch-icon.png">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="192x192" href="./icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="./icons/icon-512.png">

    <title>–¢–∞–π–º–µ—Ä –ì–æ–¥—É–≤–∞–Ω–Ω—è</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <header>
            <div class="header-content">
                <button class="icon-btn" id="themeToggle" title="–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É">
                    <span class="theme-icon">üåô</span>
                </button>
                <h1>üçº –¢–∞–π–º–µ—Ä –ì–æ–¥—É–≤–∞–Ω–Ω—è</h1>
                <button class="icon-btn" id="settingsBtn" title="–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è">
                    <span>‚öôÔ∏è</span>
                </button>
            </div>
        </header>

        <main>
            <!-- Timer Display -->
            <div class="timer-display">
                <div class="time" id="timerDisplay">00:00</div>
                <div class="timer-label">—Ö–≤–∏–ª–∏–Ω–∏:—Å–µ–∫—É–Ω–¥–∏</div>

                <!-- Countdown Timer Controls -->
                <div class="countdown-controls">
                    <label class="countdown-toggle">
                        <input type="checkbox" id="countdownEnabled">
                        <span>–¢–∞–π–º–µ—Ä –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –≤—ñ–¥–ª—ñ–∫—É</span>
                    </label>
                    <div class="countdown-settings hidden" id="countdownSettings">
                        <label>–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å (—Ö–≤):</label>
                        <input type="number" id="countdownDuration" min="1" max="60" value="15">
                    </div>
                </div>
            </div>

            <!-- Side Selection -->
            <div class="side-selector">
                <button class="side-btn active" id="leftBtn" data-side="left">
                    <span class="side-icon">üëà</span>
                    <span class="side-text">–õ—ñ–≤–∞</span>
                </button>
                <button class="side-btn" id="rightBtn" data-side="right">
                    <span class="side-icon">üëâ</span>
                    <span class="side-text">–ü—Ä–∞–≤–∞</span>
                </button>
            </div>

            <!-- Control Buttons -->
            <div class="controls">
                <button class="btn btn-primary" id="startBtn">
                    <span class="btn-icon">‚ñ∂</span>
                    <span class="btn-text">–ü–æ—á–∞—Ç–∏</span>
                </button>
                <button class="btn btn-secondary hidden" id="stopBtn">
                    <span class="btn-icon">‚è∏</span>
                    <span class="btn-text">–ó—É–ø–∏–Ω–∏—Ç–∏</span>
                </button>

                <!-- Statistics and Export Buttons -->
                <div class="secondary-controls">
                    <button class="btn btn-stats" id="statsBtn">
                        <span class="btn-icon">üìä</span>
                        <span class="btn-text">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                    </button>
                    <div class="export-buttons">
                        <button class="btn btn-export" id="exportBtn" title="–ï–∫—Å–ø–æ—Ä—Ç –≤ CSV">
                            <span class="btn-icon">üíæ</span>
                            <span class="btn-text">–ï–∫—Å–ø–æ—Ä—Ç</span>
                        </button>
                        <button class="btn btn-share" id="shareBtn" title="–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è">
                            <span class="btn-icon">üì§</span>
                            <span class="btn-text">–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Last Feeding Info -->
            <div class="last-feeding" id="lastFeeding">
                <div class="info-label">–û—Å—Ç–∞–Ω–Ω—î –≥–æ–¥—É–≤–∞–Ω–Ω—è:</div>
                <div class="info-text">–©–µ –Ω–µ –±—É–ª–æ –∑–∞–ø–∏—Å—ñ–≤</div>
            </div>

            <!-- History Section -->
            <div class="history-section">
                <h2>üìã –Ü—Å—Ç–æ—Ä—ñ—è</h2>
                <div class="history-list" id="historyList">
                    <div class="empty-state">–Ü—Å—Ç–æ—Ä—ñ—è –≥–æ–¥—É–≤–∞–Ω—å –∑'—è–≤–∏—Ç—å—Å—è —Ç—É—Ç</div>
                </div>
                <button class="btn btn-clear" id="clearHistoryBtn">–û—á–∏—Å—Ç–∏—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é</button>
            </div>
        </main>
    </div>

    <!-- Statistics Modal -->
    <div class="modal hidden" id="statsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <button class="modal-close" id="closeStatsModal">‚úï</button>
            </div>
            <div class="modal-body">
                <!-- Summary Stats -->
                <div class="stats-summary">
                    <div class="stat-card">
                        <div class="stat-label">–°—å–æ–≥–æ–¥–Ω—ñ</div>
                        <div class="stat-value" id="statTodayCount">0</div>
                        <div class="stat-sublabel">–≥–æ–¥—É–≤–∞–Ω—å</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å</div>
                        <div class="stat-value" id="statTodayTotal">0 —Ö–≤</div>
                        <div class="stat-sublabel">—Å—å–æ–≥–æ–¥–Ω—ñ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–°–µ—Ä–µ–¥–Ω—è —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å</div>
                        <div class="stat-value" id="statAvgDuration">0 —Ö–≤</div>
                        <div class="stat-sublabel">–Ω–∞ –≥–æ–¥—É–≤–∞–Ω–Ω—è</div>
                    </div>
                </div>

                <!-- Side Distribution -->
                <div class="stats-section">
                    <h3>–†–æ–∑–ø–æ–¥—ñ–ª –ø–æ —Å—Ç–æ—Ä–æ–Ω–∞—Ö</h3>
                    <div class="side-stats">
                        <div class="side-stat">
                            <span class="side-stat-icon">üëà</span>
                            <span class="side-stat-label">–õ—ñ–≤–∞:</span>
                            <span class="side-stat-value" id="statLeftCount">0</span>
                            <span class="side-stat-percent" id="statLeftPercent">(0%)</span>
                        </div>
                        <div class="side-stat">
                            <span class="side-stat-icon">üëâ</span>
                            <span class="side-stat-label">–ü—Ä–∞–≤–∞:</span>
                            <span class="side-stat-value" id="statRightCount">0</span>
                            <span class="side-stat-percent" id="statRightPercent">(0%)</span>
                        </div>
                    </div>
                </div>

                <!-- Weekly Chart -->
                <div class="stats-section">
                    <h3>–ì–æ–¥—É–≤–∞–Ω–Ω—è –∑–∞ —Ç–∏–∂–¥–µ–Ω—å</h3>
                    <canvas id="weeklyChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal hidden" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>
                <button class="modal-close" id="closeSettingsModal">‚úï</button>
            </div>
            <div class="modal-body">
                <!-- Sound Settings -->
                <div class="settings-section">
                    <h3>üîî –ó–≤—É–∫–æ–≤—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è</h3>
                    <label class="setting-item">
                        <span>–£–≤—ñ–º–∫–Ω—É—Ç–∏ –∑–≤—É–∫–∏</span>
                        <input type="checkbox" id="soundEnabled" checked>
                    </label>
                    <label class="setting-item">
                        <span>–ì—É—á–Ω—ñ—Å—Ç—å</span>
                        <input type="range" id="soundVolume" min="0" max="100" value="50">
                        <span id="volumeValue">50%</span>
                    </label>
                    <label class="setting-item">
                        <span>–ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –∫–æ–∂–Ω—ñ 5 —Ö–≤</span>
                        <input type="checkbox" id="reminderEnabled">
                    </label>
                    <button class="btn btn-test-sound" id="testSoundBtn">
                        <span>üîä –¢–µ—Å—Ç –∑–≤—É–∫—É</span>
                    </button>
                </div>

                <!-- Theme Settings -->
                <div class="settings-section">
                    <h3>üé® –¢–µ–º–∞</h3>
                    <div class="theme-options">
                        <label class="theme-option">
                            <input type="radio" name="theme" value="light">
                            <span>‚òÄÔ∏è –°–≤—ñ—Ç–ª–∞</span>
                        </label>
                        <label class="theme-option">
                            <input type="radio" name="theme" value="dark">
                            <span>üåô –¢–µ–º–Ω–∞</span>
                        </label>
                        <label class="theme-option">
                            <input type="radio" name="theme" value="auto" checked>
                            <span>üîÑ –ê–≤—Ç–æ</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notes Modal (shown when stopping timer) -->
    <div class="modal hidden" id="notesModal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2>üìù –î–æ–¥–∞—Ç–∏ –Ω–æ—Ç–∞—Ç–∫—É</h2>
            </div>
            <div class="modal-body">
                <textarea id="feedingNotes" placeholder="–Ø–∫ –ø—Ä–æ–π—à–ª–æ –≥–æ–¥—É–≤–∞–Ω–Ω—è? (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)" rows="3"></textarea>
                <div class="modal-actions">
                    <button class="btn btn-primary" id="saveNotesBtn">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                    <button class="btn btn-secondary" id="skipNotesBtn">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç–∏</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Chart.js for statistics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <!-- Helper modules -->
    <script src="sounds.js"></script>
    <script src="stats.js"></script>

    <!-- Main application -->
    <script src="script.js"></script>
</body>

</html>